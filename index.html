<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta property="og:image" content="https://i.top4top.io/p_3449gdglq1.jpg">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Ù†Ø¸Ø§Ù… Ø¬Ø±Ø¯ Ø§Ù„Ù‡ÙˆØ§ØªÙ</title>
  <style>
    body {font-family: Arial, sans-serif; background:#f7f7f7; margin:0;}
    header {background:#007bff; color:#fff; padding:1rem; text-align:center;}
    nav {display:flex; justify-content:center; gap:1rem; background:#e0e0e0; padding:.5rem;}
    nav button {padding:.5rem 1rem; border:0; border-radius:5px; background:#007bff; color:#fff; cursor:pointer;}
    section {display:none; padding:1rem;}
    section.active {display:block;}
    input, button {margin:.3rem 0; padding:.5rem; width:100%; box-sizing:border-box;}
    button[disabled] {opacity:.5; cursor:not-allowed;}
    table {width:100%; border-collapse:collapse; margin-top:1rem; background:#fff;}
    th, td {border:1px solid #999; padding:.5rem; text-align:center;}
    .stats-box {background:#fff; border:1px solid #ccc; border-radius:8px; padding:1rem; margin:1rem 0;}
    @media print {
      body * {visibility: hidden;}
      #printContent, #printContent * {visibility: visible;}
      #printContent {position: absolute; left:0; top:0; width:100%;}
    }
  </style>
</head>
<body>
  <header><h1>Ù†Ø¸Ø§Ù… Ø¬Ø±Ø¯ Ø§Ù„Ù‡ÙˆØ§ØªÙ</h1></header>
  <nav>
    <button onclick="showSection('add')">ğŸ“¦ Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ù…Ø®Ø²Ù†</button>
    <button onclick="showSection('sell')">ğŸ’° Ø¨ÙŠØ¹ Ø¬Ù‡Ø§Ø²</button>
    <button onclick="showSection('stats')">ğŸ“Š Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª</button>
  </nav>

  <section id="add" class="active">
    <h2>Ø¥Ø¶Ø§ÙØ© Ø¬Ù‡Ø§Ø² Ù„Ù„Ù…Ø®Ø²Ù†</h2>
    <input type="text" id="name" placeholder="Ø§Ø³Ù… Ø§Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„ÙƒØ§Ù…Ù„" list="stockSuggestions" autocomplete="off">
    <datalist id="stockSuggestions"></datalist>
    <input type="text" id="type" placeholder="Ø§Ù„Ù†ÙˆØ¹" autocomplete="off">
    <input type="text" id="ram" placeholder="Ø§Ù„Ø±Ø§Ù…" autocomplete="off">
    <input type="text" id="storage" placeholder="Ø§Ù„Ø°Ø§ÙƒØ±Ø©" autocomplete="off">
    <input type="number" id="qty" placeholder="Ø§Ù„ÙƒÙ…ÙŠØ©" min="1" autocomplete="off">
    <button onclick="addPhone()">Ø¥Ø¶Ø§ÙØ©</button>
    <table id="stockTable">
      <thead><tr><th>Ø§Ù„Ø´Ø±ÙƒØ©</th><th>Ø§Ù„Ù†ÙˆØ¹</th><th>Ø§Ù„Ø±Ø§Ù…</th><th>Ø§Ù„Ø°Ø§ÙƒØ±Ø©</th><th>Ø§Ù„ÙƒÙ…ÙŠØ©</th><th>ØªØ¹Ø¯ÙŠÙ„</th></tr></thead>
      <tbody></tbody>
    </table>
  </section>

  <section id="sell">
    <h2>Ø¨ÙŠØ¹ Ø¬Ù‡Ø§Ø²</h2>
    <input type="text" id="sellName" placeholder="Ø§Ø³Ù… Ø§Ù„Ø´Ø±ÙƒØ©" list="nameSuggestions" autocomplete="off">
    <datalist id="nameSuggestions"></datalist>
    <input type="text" id="sellType" placeholder="Ø§Ù„Ù†ÙˆØ¹" autocomplete="off">
    <input type="text" id="sellRam" placeholder="Ø§Ù„Ø±Ø§Ù…" autocomplete="off">
    <input type="text" id="sellStorage" placeholder="Ø§Ù„Ø°Ø§ÙƒØ±Ø©" autocomplete="off">
    <input type="number" id="sellQty" placeholder="Ø§Ù„ÙƒÙ…ÙŠØ©" min="1" autocomplete="off">
    <button onclick="sellPhone()">Ø¨ÙŠØ¹</button>
    <table id="salesTable">
      <thead><tr><th>Ø§Ù„Ø´Ø±ÙƒØ©</th><th>Ø§Ù„Ù†ÙˆØ¹</th><th>Ø§Ù„Ø±Ø§Ù…</th><th>Ø§Ù„Ø°Ø§ÙƒØ±Ø©</th><th>Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„Ù…Ø¨Ø§Ø¹Ø©</th><th>ØªØ¹Ø¯ÙŠÙ„</th><th>Ø­Ø°Ù</th></tr></thead>
      <tbody></tbody>
    </table>
  </section>

  <section id="stats">
    <h2>Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª</h2>
    <div class="stats-box">
      <p><strong>ğŸ“¦ Ø¹Ø¯Ø¯ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© ÙÙŠ Ø§Ù„Ù…Ø®Ø²Ù†:</strong> <span id="totalStock">0</span></p>
      <p><strong>ğŸ’° Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ù…Ø¨Ø§Ø¹Ø©:</strong> <span id="totalSold">0</span></p>
      <p><strong>ğŸ“ˆ Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„Ù…ØªÙˆÙØ±Ø©:</strong> <span id="stockQty">0</span></p>
    </div>
    <button onclick="printAndReset()">ğŸ§¹ ØªØµÙÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª</button>
  </section>

  <div id="printContent" style="display:none">
    <h2>ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù†Ø¸Ø§Ù…</h2>
    <p><strong>ğŸ“… Ø§Ù„ØªØ§Ø±ÙŠØ® ÙˆØ§Ù„ÙˆÙ‚Øª:</strong> <span id="printDate"></span></p>
    <h3>ğŸ“¦ Ø§Ù„Ù…Ø®Ø²Ù†</h3><table id="printStock"></table>
    <h3>ğŸ’° Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª</h3><table id="printSales"></table>
    <h3>ğŸ“Š Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª</h3><div id="printStats"></div>
  </div>

  <script>
    // Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø®Ø²Ù†Ø© ÙÙŠ LocalStorage
    let storage = JSON.parse(localStorage.getItem("phones")) || [];
    let sales = JSON.parse(localStorage.getItem("sales")) || [];

    // Ø§Ù„ØªÙ†Ù‚Ù„ Ø¨ÙŠÙ† Ø§Ù„Ø£Ù‚Ø³Ø§Ù…
    function showSection(id) {
      document.querySelectorAll("section").forEach(sec => sec.classList.remove("active"));
      document.getElementById(id).classList.add("active");
    }

    // Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ LocalStorage
    function saveData() {
      localStorage.setItem("phones", JSON.stringify(storage));
      localStorage.setItem("sales", JSON.stringify(sales));
    }

    // Ø¥Ø¶Ø§ÙØ© Ø¬Ù‡Ø§Ø² Ù„Ù„Ù…Ø®Ø²Ù†
    function addPhone() {
      const name = document.getElementById("name").value.trim();
      const type = document.getElementById("type").value.trim();
      const ram = document.getElementById("ram").value.trim();
      const storageVal = document.getElementById("storage").value.trim();
      const qty = Number(document.getElementById("qty").value.trim());

      if(!name || !type || !ram || !storageVal || !qty || qty <= 0){
        alert("ÙŠØ±Ø¬Ù‰ ØªØ¹Ø¨Ø¦Ø© ÙƒÙ„ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­");
        return;
      }

      // ØªØ­Ù‚Ù‚ Ù‡Ù„ Ø§Ù„Ø¬Ù‡Ø§Ø² Ù…ÙˆØ¬ÙˆØ¯
      const idx = storage.findIndex(p => 
        p.name === name && p.type === type && p.ram === ram && p.storage === storageVal);

      if(idx > -1){
        // Ø²ÙŠØ§Ø¯Ø© Ø§Ù„ÙƒÙ…ÙŠØ©
        storage[idx].qty += qty;
      } else {
        storage.push({name, type, ram, storage: storageVal, qty});
      }

      saveData();
      renderStockTable();
      clearAddInputs();
      updateStats();
      alert("ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ø¨Ù†Ø¬Ø§Ø­");
    }

    // Ù…Ø³Ø­ Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø¥Ø¶Ø§ÙØ©
    function clearAddInputs(){
      ["name","type","ram","storage","qty"].forEach(id => document.getElementById(id).value = "");
    }

    // Ø¹Ø±Ø¶ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø®Ø²Ù†
    function renderStockTable(){
      const tbody = document.querySelector("#stockTable tbody");
      tbody.innerHTML = "";
      storage.forEach((p,i) => {
        const tr = document.createElement("tr");
        tr.innerHTML = `
          <td>${p.name}</td>
          <td>${p.type}</td>
          <td>${p.ram}</td>
          <td>${p.storage}</td>
          <td>${p.qty}</td>
          <td><button onclick="editPhone(${i})">ØªØ¹Ø¯ÙŠÙ„</button></td>
        `;
        tbody.appendChild(tr);
      });
    }

    // ØªØ¹Ø¯ÙŠÙ„ Ø¬Ù‡Ø§Ø² ÙÙŠ Ø§Ù„Ù…Ø®Ø²Ù† (Ø¨Ø´ÙƒÙ„ Ù…Ø¨Ø³Ø·: ÙŠÙ…Ù„Ø£ Ø§Ù„Ø­Ù‚ÙˆÙ„ ÙÙ‚Ø· Ù„Ù„ØªØ¹Ø¯ÙŠÙ„ Ø«Ù… Ø­Ø°Ù Ø§Ù„ÙŠØ¯ÙˆÙŠ)
    function editPhone(i){
      const p = storage[i];
      if(!p) return alert("Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„");
      showSection('add');
      document.getElementById("name").value = p.name;
      document.getElementById("type").value = p.type;
      document.getElementById("ram").value = p.ram;
      document.getElementById("storage").value = p.storage;
      document.getElementById("qty").value = p.qty;

      // Ø­Ø°Ù Ø§Ù„Ø¹Ù†ØµØ± Ø§Ù„Ø£ØµÙ„ÙŠ Ù„Ù„ØªØ¹Ø¯ÙŠÙ„ Ø¹Ù†Ø¯ Ø¥Ø¶Ø§ÙØ© Ø¬Ø¯ÙŠØ¯
      storage.splice(i,1);
      saveData();
      renderStockTable();
      updateStats();
    }

    // Ø¨ÙŠØ¹ Ø¬Ù‡Ø§Ø²
    function sellPhone(){
      const name = document.getElementById("sellName").value.trim();
      const type = document.getElementById("sellType").value.trim();
      const ram = document.getElementById("sellRam").value.trim();
      const storageVal = document.getElementById("sellStorage").value.trim();
      const qty = Number(document.getElementById("sellQty").value.trim());

      if(!name || !type || !ram || !storageVal || !qty || qty <= 0){
        alert("ÙŠØ±Ø¬Ù‰ ØªØ¹Ø¨Ø¦Ø© ÙƒÙ„ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­");
        return;
      }

      // Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ù…Ø®Ø²Ù† Ø¹Ù† Ø§Ù„Ø¬Ù‡Ø§Ø²
      const idx = storage.findIndex(p =>
        p.name === name && p.type === type && p.ram === ram && p.storage === storageVal);

      if(idx === -1){
        alert("Ø§Ù„Ø¬Ù‡Ø§Ø² ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯ ÙÙŠ Ø§Ù„Ù…Ø®Ø²Ù†");
        return;
      }

      if(storage[idx].qty < qty){
        alert("Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© ØºÙŠØ± Ù…ØªÙˆÙØ±Ø©");
        return;
      }

      // ØªØ­Ø¯ÙŠØ« ÙƒÙ…ÙŠØ© Ø§Ù„Ù…Ø®Ø²Ù†
      storage[idx].qty -= qty;

      // Ø¥Ø¶Ø§ÙØ© Ø£Ùˆ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
      const saleIdx = sales.findIndex(s =>
        s.name === name && s.type === type && s.ram === ram && s.storage === storageVal);

      if(saleIdx > -1){
        sales[saleIdx].qty += qty;
      } else {
        sales.push({name, type, ram, storage: storageVal, qty});
      }

      saveData();
      renderStockTable();
      renderSalesTable();
      clearSellInputs();
      updateStats();
      alert("ØªÙ…Øª Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø¨ÙŠØ¹ Ø¨Ù†Ø¬Ø§Ø­");
    }

    // Ù…Ø³Ø­ Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø¨ÙŠØ¹
    function clearSellInputs(){
      ["sellName","sellType","sellRam","sellStorage","sellQty"].forEach(id => document.getElementById(id).value = "");
    }

    // Ø¹Ø±Ø¶ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
    function renderSalesTable(){
      const tbody = document.querySelector("#salesTable tbody");
      tbody.innerHTML = "";
      sales.forEach((s,i) => {
        const tr = document.createElement("tr");
        tr.innerHTML = `
          <td>${s.name}</td>
          <td>${s.type}</td>
          <td>${s.ram}</td>
          <td>${s.storage}</td>
          <td>${s.qty}</td>
          <td><button onclick="editSale(${i})">ØªØ¹Ø¯ÙŠÙ„</button></td>
          <td><button onclick="deleteSale(${i})">Ø­Ø°Ù</button></td>
        `;
        tbody.appendChild(tr);
      });
    }

    // ØªØ¹Ø¯ÙŠÙ„ Ø¹Ù…Ù„ÙŠØ© Ø¨ÙŠØ¹ (ÙŠÙ…Ù„Ø£ Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø¨ÙŠØ¹ ÙˆÙŠÙØ­Ø°Ù Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©)
    function editSale(i){
      const s = sales[i];
      if(!s) return alert("Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„");
      showSection('sell');
      document.getElementById("sellName").value = s.name;
      document.getElementById("sellType").value = s.type;
      document.getElementById("sellRam").value = s.ram;
      document.getElementById("sellStorage").value = s.storage;
      document.getElementById("sellQty").value = s.qty;

      // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ÙƒÙ…ÙŠØ© Ù„Ù„Ù…Ø®Ø²Ù† Ù‚Ø¨Ù„ Ø­Ø°Ù Ø§Ù„Ø³Ø¬Ù„
      const stockIdx = storage.findIndex(p =>
        p.name === s.name && p.type === s.type && p.ram === s.ram && p.storage === s.storage);
      if(stockIdx > -1){
        storage[stockIdx].qty += s.qty;
      } else {
        // Ù„Ùˆ Ø§Ù„Ø¬Ù‡Ø§Ø² ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯ ÙÙŠ Ø§Ù„Ù…Ø®Ø²Ù† (Ù†Ø§Ø¯Ø±)
        storage.push({name: s.name, type: s.type, ram: s.ram, storage: s.storage, qty: s.qty});
      }

      sales.splice(i,1);
      saveData();
      renderStockTable();
      renderSalesTable();
      updateStats();
    }

    // Ø­Ø°Ù Ø¹Ù…Ù„ÙŠØ© Ø¨ÙŠØ¹
    function deleteSale(i){
      const s = sales[i];
      if(!s) return;
      // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ÙƒÙ…ÙŠØ© Ù„Ù„Ù…Ø®Ø²Ù†
      const stockIdx = storage.findIndex(p =>
        p.name === s.name && p.type === s.type && p.ram === s.ram && p.storage === s.storage);
      if(stockIdx > -1){
        storage[stockIdx].qty += s.qty;
      } else {
        storage.push({name: s.name, type: s.type, ram: s.ram, storage: s.storage, qty: s.qty});
      }
      sales.splice(i,1);
      saveData();
      renderStockTable();
      renderSalesTable();
      updateStats();
    }

    // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
    function updateStats(){
      document.getElementById("totalStock").textContent = storage.length;
      const totalSoldQty = sales.reduce((a,b) => a + b.qty, 0);
      document.getElementById("totalSold").textContent = totalSoldQty;
      const totalStockQty = storage.reduce((a,b) => a + b.qty, 0);
      document.getElementById("stockQty").textContent = totalStockQty;
    }

    // ØªØµØ¯ÙŠØ± ÙˆØ·Ø¨Ø§Ø¹Ø© ÙˆØ¥Ø¹Ø§Ø¯Ø© ØªØµÙÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
    function printAndReset(){
      if(!confirm("Ù‡Ù„ ØªØ±ÙŠØ¯ ÙØ¹Ù„Ø§Ù‹ ØªØµÙÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§ØªØŸ Ù‡Ø°Ù‡ Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù†Ù‡Ø§.")) return;

      // ØªØ¹Ø¨Ø¦Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©
      document.getElementById("printDate").textContent = new Date().toLocaleString();

      // Ø§Ù„Ù…Ø®Ø²Ù†
      const printStockTable = document.getElementById("printStock");
      printStockTable.innerHTML = "<tr><th>Ø§Ù„Ø´Ø±ÙƒØ©</th><th>Ø§Ù„Ù†ÙˆØ¹</th><th>Ø§Ù„Ø±Ø§Ù…</th><th>Ø§Ù„Ø°Ø§ÙƒØ±Ø©</th><th>Ø§Ù„ÙƒÙ…ÙŠØ©</th></tr>";
      storage.forEach(p => {
        const tr = document.createElement("tr");
        tr.innerHTML = `<td>${p.name}</td><td>${p.type}</td><td>${p.ram}</td><td>${p.storage}</td><td>${p.qty}</td>`;
        printStockTable.appendChild(tr);
      });

      // Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
      const printSalesTable = document.getElementById("printSales");
      printSalesTable.innerHTML = "<tr><th>Ø§Ù„Ø´Ø±ÙƒØ©</th><th>Ø§Ù„Ù†ÙˆØ¹</th><th>Ø§Ù„Ø±Ø§Ù…</th><th>Ø§Ù„Ø°Ø§ÙƒØ±Ø©</th><th>Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„Ù…Ø¨Ø§Ø¹Ø©</th></tr>";
      sales.forEach(s => {
        const tr = document.createElement("tr");
        tr.innerHTML = `<td>${s.name}</td><td>${s.type}</td><td>${s.ram}</td><td>${s.storage}</td><td>${s.qty}</td>`;
        printSalesTable.appendChild(tr);
      });

      // Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
      const stats = `
        <p><strong>Ø¹Ø¯Ø¯ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© ÙÙŠ Ø§Ù„Ù…Ø®Ø²Ù†:</strong> ${storage.length}</p>
        <p><strong>Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ù…Ø¨Ø§Ø¹Ø©:</strong> ${sales.reduce((a,b) => a + b.qty, 0)}</p>
        <p><strong>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„Ù…ØªÙˆÙØ±Ø©:</strong> ${storage.reduce((a,b) => a + b.qty, 0)}</p>
      `;
      document.getElementById("printStats").innerHTML = stats;

      // Ø¹Ø±Ø¶ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©
      document.getElementById("printContent").style.display = "block";
      window.print();
      document.getElementById("printContent").style.display = "none";

      // ØªØµÙÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª (Ù„ÙƒÙ† Ø§Ù„Ù…Ø®Ø²Ù† ÙŠØ¨Ù‚Ù‰ ÙƒÙ…Ø§ Ù‡Ùˆ)
      sales = [];
      localStorage.setItem("sales", JSON.stringify(sales));
      renderSalesTable();
      updateStats();

      alert("ØªÙ… ØªØµÙÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø¨Ù†Ø¬Ø§Ø­");
    }

    // Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ù‚Ø³Ù… Ø§Ù„ØªØ®Ø²ÙŠÙ†
    document.getElementById("name").addEventListener("input", function () {
      const input = this.value.trim().toLowerCase();
      const datalist = document.getElementById("stockSuggestions");
      datalist.innerHTML = "";
      if(input.length === 0) return;
      const suggestions = storage.filter(p =>
        p.name.toLowerCase().includes(input) || p.type.toLowerCase().includes(input));
      const unique = [...new Set(suggestions.map(p => `${p.name}|${p.type}|${p.ram}|${p.storage}`))];
      unique.forEach(entry => {
        const [name, type, ram, storageVal] = entry.split("|");
        const option = document.createElement("option");
        option.value = `${name} - ${type} - ${ram} - ${storageVal}`;
        datalist.appendChild(option);
      });
    });

    document.getElementById("name").addEventListener("change", function () {
      const parts = this.value.split(" - ");
      if(parts.length === 4){
        document.getElementById("name").value = parts[0];
        document.getElementById("type").value = parts[1];
        document.getElementById("ram").value = parts[2];
        document.getElementById("storage").value = parts[3];
      }
    });

    // Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ù‚Ø³Ù… Ø§Ù„Ø¨ÙŠØ¹
    const sellName = document.getElementById("sellName");
    const nameSuggestions = document.getElementById("nameSuggestions");

    sellName.addEventListener("input", function () {
      const input = this.value.trim().toLowerCase();
      nameSuggestions.innerHTML = "";
      if(input.length === 0) return;
      const suggestions = storage.filter(p => p.name.toLowerCase().includes(input));
      const unique = [...new Set(suggestions.map(p =>
        `${p.name}|${p.type}|${p.ram}|${p.storage}`))];
      unique.forEach(entry => {
        const [name, type, ram, storageVal] = entry.split("|");
        const option = document.createElement("option");
        option.value = `${name} - ${type} - ${ram} - ${storageVal}`;
        nameSuggestions.appendChild(option);
      });
    });

    sellName.addEventListener("change", function () {
      const parts = this.value.split(" - ");
      if(parts.length === 4){
        sellName.value = parts[0];
        document.getElementById("sellType").value = parts[1];
        document.getElementById("sellRam").value = parts[2];
        document.getElementById("sellStorage").value = parts[3];
      }
    });

    // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø¹Ø±Ø¶
    renderStockTable();
    renderSalesTable();
    updateStats();
  </script>
</body>
</html>
